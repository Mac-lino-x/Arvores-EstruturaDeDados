import java.util.Scanner;
public class AnimalClassifier {

    
    private static final String SEPARADOR = "---------------------------------------------";
    private static final String SIMBOLO_PERGUNTA = "üßê";
    private static final String SIMBOLO_RESPOSTA = "‚úÖ";

    private No raiz;
    private final Scanner scanner; 

    public AnimalClassifier() {
        this.scanner = new Scanner(System.in);
        construirArvoreInicial();
    }

    private void construirArvoreInicial() {
        raiz = new No("Vive primariamente na √°gua?");
        No possui_pele_lisa = new No("Tem pele lisa e √∫mida, sem escamas ou pelos?");
        raiz.sim = possui_pele_lisa;

        No tem_pelo = new No("√â coberto por pelos/cabelo?");
        raiz.nao = tem_pelo;

        possui_pele_lisa.sim = new No("sapo");

        possui_pele_lisa.nao = new No("salamandra");

        tem_pelo.sim = new No("cachorro");

        No e_domestico = new No("√â um animal tipicamente domesticado/de estima√ß√£o?");
        tem_pelo.sim = e_domestico;
        e_domestico.sim = new No("cachorro");
        e_domestico.nao = new No("rato"); 
        System.out.println("\n" + SEPARADOR);
        System.out.println("üå≥ A √°rvore inicial tem: Sapo, Salamandra, Cachorro, Rato e Tartaruga (extra).");
        System.out.println(SEPARADOR);
    }

    public void iniciarJogo() {
        System.out.println("\nüéâ BEM-VINDO ao Adivinha-Animal-Simples! üéâ");
        System.out.println(SEPARADOR);
        System.out.println("Pense em um dos animais da lista inicial (Sapo, Salamandra, Cachorro, Rato).");
        System.out.println("Vou tentar adivinhar com uma sequ√™ncia de perguntas 'Sim' ou 'N√£o' (S/N).");
        System.out.println(SEPARADOR);

        navegarArvore(raiz);

        System.out.println(SEPARADOR);
        System.out.println("Obrigado por jogar! At√© a pr√≥xima! üëã");
        scanner.close();
    }

    private void navegarArvore(No atual) {

        if (atual.ehConclusao()) {
            System.out.println(SIMBOLO_RESPOSTA + " CONCLU√çDO! O seu animal √© um(a) **" + atual.conteudo.toUpperCase() + "**!");
            return;
        }
        System.out.print("\n" + SIMBOLO_PERGUNTA + " PERGUNTA: **" + atual.conteudo + "** (S/N): ");
        String resposta = scanner.nextLine().trim().toLowerCase();

        if (resposta.equals("s")) {
            if (atual.sim != null) {
                navegarArvore(atual.sim);
            } else {
                System.out.println("ü§î Ops! Faltou um n√≥ 'SIM' aqui. A √°rvore est√° incompleta!");
            }
        } else if (resposta.equals("n")) {
            if (atual.nao != null) {
                navegarArvore(atual.nao);
            } else {
                System.out.println("ü§î Ops! Faltou um n√≥ 'N√ÉO' aqui. A √°rvore est√° incompleta!");
            }
        } else {
            System.out.println("‚ùå Resposta inv√°lida! Por favor, use 'S' para Sim ou 'N' para N√£o.");
            navegarArvore(atual);
        }
    }
    public static void main(String[] args) {
        AnimalClassifier jogo = new AnimalClassifier();
        jogo.iniciarJogo();
    }
}
